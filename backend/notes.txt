âœ… ğŸ”¥ Complete Backend API Routes Design for Your PC Activity Tracker Application
ğŸš€ ğŸ” Key Considerations Before We Start:
Your PC Activity Tracker app aims to:

Track app usage time dynamically.

Provide daily, weekly, and monthly reports.

Display top-used apps, and most productive/idle periods.

Offer filtering, sorting, and pagination for efficient data retrieval.

Ensure robust error handling and scalable API architecture.

ğŸ”¥ ğŸ› ï¸ Suggested Folder Structure
bash
Copy
Edit
/backend
 â”œâ”€â”€ controllers/          # All route logic
 â”‚    â”œâ”€â”€ activityController.js
 â”‚    â”œâ”€â”€ reportController.js        # Aggregation and analysis
 â”‚    â””â”€â”€ authController.js          # User authentication (if added)
 â”‚
 â”œâ”€â”€ models/               # Mongoose models
 â”‚    â”œâ”€â”€ Activity.js
 â”‚    â””â”€â”€ User.js           # For authentication (if added)
 â”‚
 â”œâ”€â”€ routes/               # Express routes
 â”‚    â”œâ”€â”€ activityRoutes.js
 â”‚    â”œâ”€â”€ reportRoutes.js
 â”‚    â””â”€â”€ authRoutes.js     # For auth-related routes
 â”‚
 â”œâ”€â”€ server.js             # Entry point
 â”œâ”€â”€ index.js
 â”œâ”€â”€ config/               # Environment configurations
 â”‚    â”œâ”€â”€ db.js            # DB connection
 â”‚    â”œâ”€â”€ env.js
 â”‚
 â”œâ”€â”€ package.json
 â”œâ”€â”€ README.md
 â”œâ”€â”€ .env
 â””â”€â”€ node_modules/
ğŸ”¥ ğŸš€ Key Routes with Use Cases & Importance
âœ… 1ï¸âƒ£ /api/activities â†’ Fetch All Activities with Pagination
Method: GET

Endpoint: /api/activities?page=1&limit=10

Controller: fetchAllActivities()

Purpose:

Fetches all activity logs with pagination.

Optimized query to prevent overloading the server.

Includes sorting, pagination, and field selection.

Use Case:

Displaying a list of activities in the frontend dashboard.

âœ… 2ï¸âƒ£ /api/activities/:id â†’ Fetch Single Activity by ID
Method: GET

Endpoint: /api/activities/:id

Controller: fetchActivityById()

Purpose:

Fetches a single activity by its unique ID.

Includes detailed information like duration, start/end time.

Use Case:

Viewing detailed info about a specific session or app usage.

âœ… 3ï¸âƒ£ /api/activities/daily â†’ Fetch Daily Activity Data
Method: GET

Endpoint: /api/activities/daily?date=2025-03-24

Controller: fetchDailyActivities()

Purpose:

Fetches activities for a specific day.

Allows querying by date.

Use Case:

Displaying daily activity logs on the frontend dashboard.

Allowing the user to select and view past dates.

âœ… 4ï¸âƒ£ /api/activities/weekly â†’ Fetch Weekly Activity Data
Method: GET

Endpoint: /api/activities/weekly?week=2025-W12

Controller: fetchWeeklyActivities()

Purpose:

Fetches activity data for a given week.

Aggregates data into weekly summaries.

Use Case:

Displaying weekly reports with app usage insights.

Comparing usage trends over multiple weeks.

âœ… 5ï¸âƒ£ /api/activities/monthly â†’ Fetch Monthly Activity Data
Method: GET

Endpoint: /api/activities/monthly?month=2025-03

Controller: fetchMonthlyActivities()

Purpose:

Fetches activity data for a specific month.

Aggregates and groups activities by day within the month.

Use Case:

Generating monthly productivity reports.

Comparing month-over-month trends.

âœ… 5ï¸âƒ£.1  /api/activities/yearly â†’ Fetch Yearly Activity Data
Method: GET

Endpoint: /api/activities/yearly?year=2025


Controller: fetchMonthlyActivities()

Purpose:

Fetches activity data for year.

Aggregates and groups activities by month.

Use Case:

Generating yearly productivity reports.

Comparing month-over-month trends.


âœ… 6ï¸âƒ£ /api/activities/recent â†’ Fetch Recently Used Apps
Method: GET

Endpoint: /api/activities/recent?limit=5

Controller: fetchRecentActivities()

Purpose:

Fetches recently used apps or activities.

Sorted by most recent usage.

Use Case:

Displaying the last 5 used apps.

Providing a quick overview of recent activities.

âœ… 7ï¸âƒ£ /api/activities/top â†’ Fetch Top Used Apps
Method: GET

Endpoint: /api/activities/top?limit=5

Controller: fetchTopUsedApps()

Purpose:

Aggregates and returns the most used apps by time spent.

Use Case:

Displaying productivity insights on the frontend.

Identifying top distractions or productive apps.

âœ… 8ï¸âƒ£ /api/activities/idle â†’ Fetch Idle Periods
Method: GET

Endpoint: /api/activities/idle?minDuration=10

Controller: fetchIdlePeriods()

Purpose:

Identifies idle periods (e.g., no app usage for 10+ minutes).

Use Case:

Detecting inactivity for productivity tracking.

Generating idle vs active reports.

âœ… 9ï¸âƒ£ /api/reports/productivity â†’ Generate Productivity Report
Method: GET

Endpoint: /api/reports/productivity?start=2025-03-01&end=2025-03-24

Controller: generateProductivityReport()

Purpose:

Generates a productivity report between two dates.

Groups by app usage and categorizes time spent as productive or idle.

Use Case:

Displaying daily/weekly productivity scores.

Generating detailed reports for analysis.

âœ… ğŸ”’ /api/auth â†’ User Authentication Routes
Purpose:

Allow users to sign up, log in, and authenticate.

Use JWT for secure authentication.

âœ… Possible Routes:

/api/auth/register â†’ POST â†’ Register a new user.

/api/auth/login â†’ POST â†’ Log in with credentials.

/api/auth/me â†’ GET â†’ Fetch current user details (protected route).

/api/auth/logout â†’ POST â†’ Logout and clear the token.

ğŸ”¥ âœ… Additional Future Routes
âœ… 1ï¸âƒ£ Filtering and Sorting
/api/activities?app=chrome&sort=duration&order=desc

Purpose:

Filter by app name, duration, date, etc.

Sort results by duration, date, or app name.

âœ… 2ï¸âƒ£ Export Routes
/api/activities/export/csv â†’ Export activity data to CSV.

/api/activities/export/pdf â†’ Export detailed reports to PDF.

Purpose:

Allow users to download their data for analysis.

âœ… 3ï¸âƒ£ Admin/Management Routes
/api/admin/stats â†’ Show total users, total logs, etc.

/api/admin/clearLogs â†’ Clear old activity logs.

Purpose:

Manage the backend efficiently.

Clear unnecessary data periodically.

ğŸš€ âœ… Conclusion: Your Complete Backend Route List
/api/activities â†’ Fetch all activities with pagination.

/api/activities/:id â†’ Fetch activity by ID.

/api/activities/daily â†’ Daily data.

/api/activities/weekly â†’ Weekly data.

/api/activities/monthly â†’ Monthly data.

/api/activities/recent â†’ Recent apps.

/api/activities/top â†’ Top used apps.

/api/activities/idle â†’ Idle periods.

/api/reports/productivity â†’ Productivity report.

/api/auth â†’ Authentication routes.

GET http://localhost:3000/api/activities/yearly?year=2025


Future Routes: Filtering, exporting, admin routes.